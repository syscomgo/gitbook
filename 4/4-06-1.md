

# アプリケーション管理

> 備考：  
> 1. **必須**：フォーム・フィールドの属性で、次のステップに進むまたは保存するには、このフィールドに入力する必要があります。
> 2. **ユニーク値**：フォーム・フィールドの属性で、このフィールドの値は他のフォームデータと重複してはいけません。 
> 3. **值**：特定のフィールドに入力するときにデータベースに保存して、主にシステムやプロセスの計算で使用され、言語バージョンの影響を受けません。 
> 4. **文字**：特定のフィールドに入力します。表示目的で使用されます。 
> 5. **プロセス変数**：プロセス実行中に各コンポーネントに使用可能ば変数タイプを提供します。
> 6. **コンポーネント変数**：コンポーネント自身のみ使用可能な変数タイプを提供します。

### アプリケーション設計

OMFLOWの中核となる機能で、ここでカスタマイズプロセスを作成、リリースし、一般ユーザーや外部システムに利用できます。

> ※ 本記事では、各ページの機能を紹介しますが、ゼロからアプリケーションを構築する方法については、【アプリケーションとプロセスの構築】を参照してください。

### アプリケーションリスト

```
参照箇所：［メインメニュー］＞［アプリケーション管理］＞［アプリケーション設計］
```

各アプリケーションは、複数のプロセスを持つコンテナと見なすことができます。アプリケーションリストページの機能には以下があります。
1. **新規**：新しいアプリケーションを作成する。
2. **削除**：チェックしたアプリケーションを削除する。  
3. **リリース**：設計済みのアプリケーションをリリースする。
4. **フィルタ**：キーワードで検索し、属性をフィルタリングして、該当するものすべてを表示する。
5. **更新**：フィルターをデフォルト値に戻す。
6. **インポート**：アプリケーションをインポートする。 
7. **エクスポート**：チェックしたアプリをエクスポートする。
8. **ダウンロード**：公式サイトからクラウドアプリケーションをダウンロードする。なお、ダウンロードは以下のような場合にご利用いただけます：

> • バージョンアップの際に、同時に対応するプロセスをダウンロードする場合
> • 公式から新しいパッケージアプリケーションをリリースする場合

アプリケーションを追加すると、アプリケーションリストの右側に**設定**ボタンが表示されます： 
1. **アプリ名**：アプリケーション名を変更する。
2. **アプリケーションを利用できる役割**：該当の役割に**他のアプリケーションも含めた、全てのアプリケーションに対する管理者権限**を付与せずに、**設計**、**リリース**、および**サービスリクエストの設計**ができるようにします。
3. **パラメータ応用**：プロセスは設定パラメーターを使用でき、アプリケーションと一緒にエクスポートできます。

> ※ 「アプリケーション設計権限」は、ユーザーに特定のアプリケーションの**設計**から**リリース**までの権限を付与します。

### プロセスリスト

```
参照箇所：［メインメニュー］＞［アプリケーション管理］＞［アプリケーション設計］＞［任意のアプリケーション］
```

[アプリケーションリスト]で任意のアプリケーションをクリックすると、[プロセスリスト]のページに遷移します。機能の説明は以下のとおりです。
1. **新規**： 新しいフォームを作成し、[フォームプロセス]または[静態的フォーム]を選択できる。**フォームプロセス**は、起票するときに設計プロセスを実行します。
2. **コピー**：チェックしたプロセスを別のアプリケーションにコピーする。
3. **削除**：チェックしたプロセスを削除します。  
4. **フィルタ**：キーワードで検索し、属性をフィルタリングして、該当するものすべてを表示する。
5. **更新**：フィルタをデフォルト値に戻す。 
6. **パッケージ**：該当のアプリケーションのすべてのプロセスに必要なパッケージをリストアップする。
7. **言語**：翻訳後の言語パックのインポートとエクスポートをする。

> ※ **サブプロセス**と区別するために、引き続きこのリストで見られるプロセスを**主プロセス**と総称します。

### フォームプロセス設計＞パラメータ設定

```
参照箇所：［メインメニュー］＞［アプリケーション管理］＞［アプリケーション設計］＞［任意のアプリケーション］＞［任意のプロセス］＞[パラメータ設定]
```

**[+新規]**ボタンまたは[任意のプロセス]をクリックしてプロセス編集画面に入ると、まず**[パラメータ設定]**タブが表示されます。各設定の説明は以下のとおりです。
1. **プロセス名**：文字を入力し、リリース後は変更不可であり、、入力必須項目です。
2. **APIパス**：データベース内のフォーム名で、アルファベットと数字を入力します。ユニークな値である必要があり、入力必須項目です。
3. **説明**：プロセスの役割を説明します。 
4. **LOG**：プロセスの各ポイントにおける入力と出力を記録します。
5. **API**：該当のプロセスをAPI経由で他の機能やシステムから呼び出せるようにします。 
6. **内部API編集**：他のプロセスが[内部プロセス]、[外部プロセス]、[コード]コンポーネントを介して起票、処理することを許可します。【コードコンポーネント】を参照してください。
7. **内部API削除**：他のプロセスが[コード]コンポーネントを介して削除できるようにします。【コードコンポーネント】を参照してください。
8. **内部API検索**：他のプロセスが[コード]コンポーネントを介して検索できるようにします。【コードコンポーネント】を参照してください。
9. **タスクを作成する**：該当のプロセスが **[マイタスク]** にタスクを生成できるようにします。 
10. **現在のプロセスと進行状況を表示する**：フォームページで**プロセスビュー**機能を有効にします。【カスタムアプリ＞プロセス】を参照してください。
11. **フォーム資料の操作履歴を表示する**：フォームページで**記録**機能を有効にします。【カスタムアプリ＞記録】を参照してください。
12. **添付ファイル機能を利用**：フォームページで**添付ファイル**機能を有効にします。【カスタムアプリ＞添付ファイル】を参照してください。
13. **資料の関連付けを表示する**：フォームページで**関連操作**機能を有効にします。【カスタムアプリ＞関連操作】を参照してください。
14. **作業ログを記入して表示する**：フォームページで**ジャーナル**機能を有効にします。【カスタムアプリ＞ジャーナル】を参照してください。
15. **SLA状態**：フォームページで**SLA状態**機能を有効にします。【カスタムアプリ＞SLA状態】を参照してください。
16. **印刷ボタンを表示する**：フォームページで**印刷**機能を有効にします。【カスタムアプリ＞SLA状態】を参照してください。
17. **フォームのクイック操作確認ウィンドウ**：ユーザーがフォームのクイック操作を使用するときに、確認ポップアップが表示するかどうかの設定です。

> 注意事項：  
> (1) アプリケーションがリリースされた後、**プロセス名**と**APIパス**はバインドされます。変更できる部分は翻訳文のみです。
> (2) **APIパス**はプロセスの識別名であり、一度変更すると新しいプロセスとみなされます。

#### 高度パラメータ設定

ここでは、**フォーム番号**にチェックを入れることでカスタムコードルールの設定ができます。説明は以下のとおりです。
1. 文字：文字を入力します。通常はフォーム番号の先頭に使用されるアルファベットです。 
2. 日付：**文字**の後に**作成時間**が表示されます。例：ymdHMSを入力すると20240227135959が表示されます。詳細は以下の表を参照してください。 
3. シリアル番号の桁数：**日付**の後にシリアル番号が表示されます。ここで番号の長さを設定します。例：5と記入すると、最初のフォーム番号の終わりは00001と表示されます。 
4. シリアル番号のリセットタイム：シリアル番号ののリセットサイクルを設定します。

| 日付記号   | 説明      | 表示例   |
| ---------- | --------- | ----------- |
| y          | 年        | 2024        |
| m          | 月        | 02          |
| d          | 日        | 29          |
| H          | 時        | 23          |
| M          | 分        | 59          |
| S          | 秒        | 59          |

### フォームプロセス設計＞権限設定

```
参照箇所：［メインメニュー］＞［アプリケーション管理］＞［アプリケーション設計］＞［任意のアプリケーション］＞［任意のプロセス］＞[権限設定]
```

ここでは、どの役割が該当のプロセスにアクセスできる権限があるかを設定し、アプリケーションがリリースされたときに有効になるようにします。 
1. **新規**：既に存在する役割を追加し、このプロセスの権限を該当の役割に与えます。 
2. **削除**：チェックした役割からこのプロセスの権限を削除します。

新しく追加された役割に設定できる権限には、以下の4種類があります：  
1. **確認**：**[メインメニュー]>Apps** でプロセスを表示し、該当のプロセスのフォームリストを確認できます。 
2. **新規**：該当のプロセスの **フォームリスト** ページで起票できます。
3. **更新**：プロセスが入力段階に入ると、次のステップに進むことができます。
4. **削除**：該当のプロセスのフォームを削除できます。
 
> ※ アプリケーションが再度リリースされる場合、すべての役割に関連する権限が削除されるため、再度付与する必要があります。

#### 高度な設定

閲覧権限を持つユーザーが、特定の状況下で特定のフォームのみを閲覧することができます。 チェックを入れると、以下のフィールドが表示されます。

1. **すべてのフォームを表示**：部門、役割、またはユーザーを選択すると、選択対象は該当のプロセスに関するすべてのデータを無条件で閲覧できます。

2. **指定したフォーム項目がユーザーの個人情報と一致する場合、当該ユーザーはフォームを表示できます**：該当のフォームの特定のフィールドがユーザーの個人情報と一致する場合に閲覧できます。

3. **指定したフォーム項目が特定の値と一致する場合にフォームを表示する部門、役割、およびユーザーを選択します**：フォームフィールドの特定の値に一致した場合、特定の部門、役割、ユーザーが該当のフォームを閲覧できます。

> ※ 上記の3つの閲覧ルールはそれぞれ独立しており、ユーザーがいずれかのルールを満たせば、該当のフォームを閲覧できます。

## フォーム設計

```
参照箇所：［メインメニュー］＞［アプリケーション管理］＞［アプリケーション設計］＞［任意のアプリケーション］＞［任意のプロセス］＞[フォーム設計]
```

ユーザーが入力できるフォームを設計します。該当のフォームはプロセスで計算、操作できます。説明は以下のとおりです。

#### フォーム設計＞ブロック&ハーフブロック

**[+ブロック]** や**[+ハーフブロック]**ボタンをクリックし、ブロックをフォームに追加します。ブロックの役割は主にフォームの場所を分割することです。

1. **項目を作成する〔+〕**：ブロックに新しいフィールドを追加します。詳細は【フォームフィールドの紹介】を参照してください。
2. **削除〔X〕**：ブロックとブロックに含まれているすべてのフィールドを削除します。

3. **設定〔歯車〕**：ブロックの属性を設定します。
• **タイトル**：ブロックのタイトルを設定します。。
• **表示色**：ブロックの上の線の色を設定します。。
• **隠す**：このブロックとその中のフィールドを非表示にを設定します。

> ※ **フィールド**を追加する前に、先に**ブロック**を作成する必要があります。

### フォームフィールドの紹介

以下は、ほとんどのフォームに表示される基本的なフィールドの紹介です。
1. **フィールド名**：フィールド名として表示する文字を入力する。 
2. **注釈**：フィールドの説明で、placeholderで表示される。
3. **デフォルト**：フィールドに持ち込まれるデフォルト値のこと。 
4. **タイプ**：文字、数字、パスワード、ユニーク値、URL、メールアドレスに分けられる。 
5. **必須**：データが作成または処理されるとき、必須フィールドがチェックされていると、値が空の場合は操作が拒否される。 
6. **読み取り専用**：チェック入れると、ユーザーは該当のフィールドを閲覧するのみとなり、変更することができなくなる。 
7. **隠す**：該当のフィールドを非表示にする。

#### フォーム設計＞入力ボックス

テキスト入力フィールドであり、以下のプロパティに従って調整ができます。  
1. **フォーマットチェック(REGEX)**：正規表現(regex)構文を入力した後、システムは該当の内容が構文に一致しているかどうかをチェックし、一致しない場合、ユーザーの操作を拒否する。 
2. **バーコードスキャンできるようにする**：携帯電話専用機能で、バーコードデータを自動入力できる。 
3. **入力補完**：フィールドデータをマスクする。ルールは以下とおり。
4. **最初に数字を表示する**：数字を入力する。一文字目から指定された文字まではマスクしないこと。
5. **最後に数字を表示する**：数字を入力する。最後の文字から指定された文字まではマスクしないこと。
6. **マスクの最小単語数**：数字を記入し、マスクの最小単語数確保する。

#### フォーム設計＞複数行入力

この調整は通常、閲覧しやすくすることが目的で、ユーザーが入力する内容と長さは制限しません。もしユーザーが設定された行数以上の行を入力した場合、フィールドの横にスクロールバーが表示されます。

#### フォーム設計＞ドロップダウンメニュー

ドロップダウンメニューにはオプション用のタブがあり、オプションの追加や削除ができる。 オプションをドラッグするには、**↕︎**を押下する。 
**複数回答**：複数の項目を選択することができる。 
**オプションの並び替え**：チェックをいれると、ユーザーの選択順序が記録される。例：3,1,2
**チェックの最大数**：複数の項目を選択できる選択肢の最大数。 
**チェックの最小数**：複数の項目を選択できる選択肢の最小数。 
**デフォルト値**：複数の選択肢のデフォルト値。コロンで区切る、例：1,2,3,4.

##### 「オプション」タブ

1. **值**：「值」を記入し、システムの計算に使用される。言語バージョンの影響は受けない。
2. **表示**：「文字」を記入し、ユーザー識別に使用される。

> ※ **ドロップダウンメニュー**フィールドは単一/複数選択にかかわらず、`[＜值＞,＜值＞,...]`の形式でデータベースに格納される。

#### フォーム設計＞単一/複数選択メニュー

このフィールドではすべてのオプションをカスタマイズすることができ、チェックボックスにします。ほとんどのオプションは「ドロップダウンメニュー」と同じです。以下にその他のオプションを説明します。 
**その他**： 適切なオプションが存在しない場合、ユーザーはこの「その他」フィールドに記入することができ、入力内容は同時に「単語、値」として保存されます。

> ※ **単一/複数選択メニュー**フィールドは単一/複数選択にかかわらず、`[＜值＞,＜值＞,...]`の形式でデータベースに格納される。

#### フォーム設計＞タイトル

フォームの固定フィールドで、使い方は**入力ボックス**に似ている。

> ※ OMFLOWの機能は**タイトル**フィールドでフォーム名を表示します。例： 「マイタスク、関連操作」など。

#### フォーム設計＞状態

フォームの固定フィールドで、使い方は**ドロップダウンメニュー**フィールドに似ている。

> ※ OMFLOWの機能は**状態**フィールドでフォーム現在の段階を表示します。例： 「マイタスク、関連操作」など。

#### フォーム設計＞レベル

フォームの固定フィールドで、**ドロップダウンメニュー**フィールドに似ている。選択肢は赤、黄、緑の3のみ。

> ※ OMFLOWの機能は**レベル**フィールドでフォームの重大性や緊急性を表示します。例： 「マイタスク、SLA状態」など。

#### フォーム設計＞グループと指定されたユーザ

フォームの固定フィールドで、「部門、ユーザー」の2つのフィールドで構成されています。 部門を選択した後、**ユーザー**フィールドでは選択された部門に所属するユーザーを自動的に生成します。

**指定されたユーザを含む**：デフォルトは有効で、チェックを外すと**部門**フィールドのみがこのフィールドに表示されます。

**デフォルト**：**＜部門ID＞,＜ユーザーID＞**を入力して起票する時のデフォルト対象を指定できます。ID照会は、**[ユーザー管理]>[ユーザ管理]**及び**[ユーザー管理]>[部門管理]**の「番号」フィールドでご確認ください。

> このフィールドは、**タスク**の作成と指定対象を決めます。 もし**ユーザー**が選択されず、**部門**のみが選択されている場合、該当の部門のすべてのユーザーが[マイタスク]>[タスクリスト]でこのフォームが見えます。

##### 「オプション」タブ

このタブでは、選択できる部門を制限します。

#### フォーム設計＞日付

このフィールドをクリックすると、**日付**の選択画面が表示されます。

#### フォーム設計＞日付/時間

このフィールドをクリックすると、**日付/時間**の選択画面が表示されます。


#### フォーム設計＞サブクエリ

このフィールドに、OMFLOWの他のプロセスのフォームデータリストが表示されます。 ユーザーは、任意のデータにチェックを入れることで、特定のフィールドのデータをこのフォームに呼び出すことができます。
**検索専用**：検索のみを許可し、手動入力はできません。システムから呼び出すことだけを許可します。

サブクエリの設定方法を以下に説明します。
1. **フォーム**タブ：クエリ対象のアプリケーションまたはプロセス (略称: **調査対象プロセス**) を選択します。 
2. **条件**タブ：**調査対象プロセス**に表示されるデータの範囲を縮小するため、初期フィルタリングの条件を設定します。 
3. **動的条件**タブ：**ユーザー**と**このフォーム**のデータでフィルタリングし、**調査対象プロセス**に表示されるデータの範囲を縮小します。 
4. **記入**タブ：ユーザーが**調査対象プロセス**のデータを選択すると、該当のデータのフィールド値をこのフォームの指定されたフィールドに呼び出します。 

> 注意事項：**条件、動的条件**の設定について  
> 「ドロップダウンメニュー、単一/複数選択メニュー、状態、レベル」フィールドで「值」をクエリ対象として使用します。
> 「指定されたグループ、部門、ユーザー」フィールで「ID」をクエリ対象として使用します。


#### フォーム設計＞外部検索

このフィールドは、pythonコードを介してデータリストを呼び出すことができます。 ユーザーは、任意のデータにチェックを入れて、このフォームに特定のフィールドにを呼び出します。 
**読み取り専用**：検索のみを許可し、手動入力はできません。システムから返送して記入するのみ許可します。
**分散処理**：Collectorを指定し、「Python」タブのコードを実行します。

サブクエリの設定方法は以下のとおりです。

1. **フィルタ**タブ：Pythonコードを実行する前に、ここで変数(略称: **コンポーネント変数**)を整理します。詳細は【アプリケーション管理＞フィルタ】を参照してください。

2. **入力**タブ：Pythonコードに取り込む「プロセス変数、コンポーネント変数」を設定し、新しい変数名を付与し、Pythonコードで呼び出し可能にします。

3. **パッケージ**タブ：Pythonコードを実行する前にインストールする必要があるパッケージの名前を記入します。事前にOMFLOWがPIPServerに接続できることを確認してください。

4. **Python**タブ：ここにコードを編集し、結果を**result**変数に指定できます。データは以下の形式のように、2次元配列である必要があります。

```python

#結果をresult変数に入れる。

result = [
    ["Title1", "Title2"],
    ["row1"  , "row1"  ],
    ["row2"  , "row2"  ]
]

```

4. **記入**タブ：ユーザーがデータを選択すると、設定されたフィールド名[Title]に従って、該当のデータの対応する値をこのフォームの指定されたフィールドに呼び出します。

#### フォーム設計＞グループ

ドロップダウンメニューで、すでに作成されている部門を選択します。複数回答にチェックを入れることで複数の部門の選択が可能になります。 
**デフォルト**：複数選択のデフォルト値はコロンで区切ってください。例：＜部門ID＞,＜部門ID＞,＜部門ID＞  
**オプション**タブ：選択できる部門を制限します。 

#### フォーム設計＞ユーザ

ドロップダウンメニューで、すでに作成されているユーザーを選択します。複数回答にチェックを入れることで複数の部門の選択が可能になります。 
**デフォルト**：複数選択のデフォルト値はセミコロンで区切ってください。例：＜ユーザーID＞,＜ユーザーID＞,＜ユーザーID＞  
**オプション**タブ：選択できるユーザーを制限します。  

#### フォーム設計＞表

Table形式のフィールドを提供し、複数のデータを格納します。（略称:サブフォームデータ）

1. **行数**：Tableにデフォルト表示される行数を設定します。

2. **必須**：チェックを入れると、このフィールドは少なくとも1つの**サブフォームデータ**を必要とします。

3. **ツールバーを隠す**：「新規、データ移動、削除」機能を隠します。

4. **カスタムフォーム**：Tableフィールドに従ってサブフォームを設計する場合、以下の点に注意が必要です。 
• **必須**：**サブフォームデータ**を入力する場合、関連する**必須**フィールドも入力しなければなりません。
• **フィールド計算ルール**：同じ**サブフォームデータ**設定に対するリンクのメカニズムです。詳細は【アプリケーション管理＞フィールド計算ルール】を参照してください。

> ※ サブフォームの「サブクエリ、フィールド計算ルール」フィールドは、このフォームのフィールドを参照し、クエリ条件として使用できます。

#### フォーム設計＞コメント

リマインダーと警告を書き込んで表示させることができるフィールドです。html形式をサポートします。

> ※ このフィールドの内容は表示専用で、ユーザーが編集したり、プロセスで使用したりすることはできません。

#### フォーム設計＞ファイルのアップロード

ファイルをアップロード用のフィールです。さらに「ファイルの種類、数量、読み取り専用」などの機能をコントロールできます。

#### フォーム設計＞※ジャーナル

フォーム上で直接「ジャーナル」機能を閲覧できます。詳細は【カスタムアプリ＞ジャーナル】を参照してください。

#### フォーム設計＞※承認

フォーム上で直接「承認記録」機能を閲覧できます。詳細は【アプリケーション管理＞承認デザイン】を参照してください。

> ※ プロセスに承認機能を設計した場合、**承認記録**フィールドは自動的にフォームの上部に表示されます。

### フォーム設計＞フィールド計算ルール

フォームに計算ルールを設定します。フィールドの値が変更されると同時に、他のフィールドの設定や値も変更されます。

> ※ このルールは、ユーザーがフォームに入力したときにのみ機能します。プロセスの途中でフィールドの値を変更したり、値を呼び出しても、この計算トリガーは発生しません。

**[+新規]**をクリックするとルールを追加できます。(略称:計算ルール)各ルールの右側に「コピー、設定、削除」ボタンがあり、その中の**設定[歯車]**をクリックすると、以下の設定画面が表示されます。

1. **設定**タブ：設定画面に入ると、このルールの名前を変更したり、コメントを追加したりすることができます。

2. **トリガー位置設定**タブ：[+新規]をクリックしてトリガーを発動する任意のフィールドを設定できます。ユーザーがフォームに入力する際、トリガーフィールドの値が変更されるとトリガー条件がチェックされます。

3. **トリガー条件設定**タブ：トリガー条件が満たされると計算が開始されます。 トリガー条件が空の場合、計算は直接行われます。

4. **計算**タブ：計算を開始し、指定されたフィールドに結果を呼び出します。分類は以下のとおりです。
**数字**：フォームフィールドを**変数**として選択し、**計算内容**ブロックに追加し、数式を使用して計算を実行します。
**ストリング**：フォームフィールドを**変数**として選択し、文字列を組み合わせます。 
**日付**：フォームの「日付」フィールドを選択し、指定された時間の長さを加算または減算します。 
**日付/時間**：フォームの「日付/時間」フィールドを選択し、指定された時間の長さを加算または減算します。
**日付/指定された時間**：フォームの「日付/時間」フィールドを選択し、指定された時間を加算または減算し、時間を再指定します。 
**データをクエリ**：サブクエリ設定と同様、クエリされたフォームデータに対応するフィールド値をこのフォームフィールドに呼び出します。 
**フィールドと連携**：このフォームのフィールド設定を変更します。例：読み取り専用、必須、オプションなどの設定。

## フロー設計

```
参照箇所：［メインメニュー］＞［アプリケーション管理］＞［アプリケーション設計］＞［任意のアプリケーション］＞［任意のプロセス］＞［フロー設計］
```

新しいフォームが「フォームプロセス」である場合、**フロー設計**タブをクリックして、プロセス設計画面に入ります。画面に入るとデフォルトのプロセスが表示されます。コンポーネントを矢印によって連結することで、フローチャートを形成します。プロセスは作成後、ここで設計した順番で実行します。以下ではコンポーネントの基本的な操作を紹介します。

「入力」コンポーネントをクリックすると、コンポーネントの周囲に以下のような機能ボタンが表示されます。
1. ドラッグ＆ドロップ：コンポーネントを左クリックしたまま移動させ、フローチャート上にドラッグ＆ドロップできます。 
2. 設定：詳細は【フローの各コンポーネントの紹介】を参照してください。
3. コピー：このコンポーネント（設定後のパラメータを含む）をコピーします。
4. 削除：このコンポーネント（コンポーネントに接続されたラインを含む）を削除します。
5. 接続先：他のコンポーネントと接続します。接続方法は【アプリケーションとプロセスの作成＞連結の作成】を参照してください。

### プロセスの各コンポーネントの紹介

メイン画面左上の**[+新規]**ボタンをクリックするとコンポーネントん一覧が表示され、任意のコンポーネントにチェックを入れた状態で[確認]ボタンを押すことでフローチャートに指定したコンポーネントが追加されます。

#### コンポーネント - 開始

プロセスの基本となるコンポーネントであり、後続のコンポーネントのためにここでプロセス変数を宣言することをお勧めします。以下に各タブの用途を紹介します。

1. **設定**タブ：このコンポーネントの一般的な属性を設定します。「表示名」でコンポーネントの表示名を変更することができます。プロセスを閲覧する際に、現在位置を特定しやすくするために、**[検証]**にチェックを入れ、検証機能を有効にしてください。

2. **入力**タブ：ここで作成された変数は**プロセス変数**となり、後続のすべてのコンポーネントでこえらのプロセス変数を使用することができます。 デフォルトでresult=successが設定されています。この変数はOMFLOWの多くの機能で用意されており、一般的にはこのフォームの実行が正しく完了したかどうかを示すために使用されます。

3. **検証**タブ：**設定**タブで**検証**に入れると、このタブが表示されます。Pythonコードを編集して、フォームの内容をチェックし、ステータス変数を確認することで、このフォームを作成することを許可されているかどうかを判断することができます。

#### コンポーネント - 終了

プロセスを終了させるコンポーネントです。プロセスがこのコンポーネントに到達した時のみ、**クローズ** （タスクのクローズ、SLA監視の終了...など）が実行されます。 プロセスが他のプロセスに呼び出された場合も、プロセスが「終了」コンポーネントに到達した時のみ実行結果が返されます。

> ※ 一般的に、プロセスを「終了」コンポーネントまで実行させるべきです。

次のような場合は、「終了」コンポーネントまで連結しないと、プロセスは正常に終了しないことに注意してください。
• プロセスがサブプロセスの場合   
• プロセスが他のプロセスに呼び出される場合    
• プロセスがデータ収集プロセスの場合

**フィルタ**タブ：このタブでは
「プロセス変数、フォームフィールド、システムパラメータ、アプリケーションパラメータ」のパラメータをソートしてエクスポートすることができます。後続のプロセスとの相互接続やメインプロセスまたはOMFLOWサーバーへのデータ返送に役立ちます。**システムパラメータ**の詳細は、【アプリケーション管理＞パラメータ管理】を参照してください。

> ※ フィルタによって作成された変数は、現在のコンポーネントのみが使用でき、プロセス変数ではありません。

#### コンポーネント - フォーム入力

プロセスがここまで処理されると、一旦サスペンドし、ユーザーに確認、情報入力をさせてから、（フロントインターフェイスまたはAPI推進）、再度推進します。


> ※ フォーム入力の場合は、**手動で推進** または **APIで処理** のみがプロセスを処理できます。

##### 「設定」タブ

1. **ログ記録**：前述の**LOG**と同一です。両者の違いはこの機能が現在のコンポーネントにのみ影響することです。
2. **送り出すボタンを表示する**： このオプションは、クイック操作を有効にした場合に、ユーザーがフォームに入力する際、クイック操作ボタン以外に送信ボタンを表示するかどうかを決めます。
3. **承認機能を有効にする**：承認機能を有効にすると、タブの一覧に[承認する]タブが追加されます。なお、ユーザーがフォーム上で見ることが出来る送り出すボタンは送信ボタンに変更されます。承認完了後、同意の有無に関わらずプロセス処理は続行されます。
4. **送信者を指定**：事前に承認機能を有効にする必要があります。有効にすると、送信者が指定されていない場合、最終更新者が送信者になります。
5. **直接送信**：事前に承認機能を有効にする必要があります。この機能を有効にすると、手動処理に入ると、停止せずに直接承認状態に進みます。この時、上記の送信者が指定されていない場合、送信者は譲受人になり、譲受人がいない場合、送信者はSystemになります。

##### 「フィルタ」タブ

ここで「プロセス変数、フォームフィールド、システムパラメータ、アプリケーションパラメータ」パラメータを統合し、このコンポーネントに関する続きのタブは、アクセスすることができます。

> ※ フィルタによって作成された変数は、現在のコンポーネントのみが使用でき、プロセス変数ではありません。

##### 「列の設定」タブ

プロセスが停止する時に、データベースのフィールド値を変更します。ユーザーがフォームを開くと、変更された内容が表示されます。

##### 「カスタムフォーム」タブ

フォーム設計で設計したフォームを読み込むかどうかを選択できます。[読み込む]を選択すると、現在表示されているフォームに変更を加えることができます。ユーザーに表示したい内容に合わせて、フィールドを削除したり追加したりすることができます。 [読み込む]を選択しない場合、直接フォーム設計のフォームが適用されます。

##### 「検証」タブ

**設定**タブで**検証**に入れると、このタブが表示され、Pythonコードを編集することで、フォームの内容をチェックし、ステータス変数によって、このフォームを作成することが許可されているかどうかを判断することができます。詳細は【アプリケーション管理＞コードコンポーネント】を参照してください。

> ※ 検証する時、ステータスがエラーの場合、messageがエラーメッセージとして表示されます。

##### 「承認」タブ

**+新規**ボタンをクリックすると、新しい承認テンプレートが追加され、以下の項目を設定できます。：  **新規**ボタンをクリックして、新しい承認テンプレートを追加します。承認テンプレートには以下を設定できます。
1. **承認名**：既存の承認テンプレートを選択します。  
2. **ユーザーによる調整を許可**：設定が許可となっている場合、ユーザーが送信をクリックすると該当の承認テンプレートの段階設定が表示され、ユーザーは新しい段階を追加できますが、既存の段階を削除できません。
3. **条件**：複数の承認テンプレートがある場合、条件を設定した後、ユーザーが送信をクリックすると、条件に従ってどの承認テンプレートを実行するかを決めます。 2つ以上の条件を満たす場合、ユーザーの画面に合致しているテンプレートがポップアップで表示され、ユーザーはどの承認テンプレートを実行するかを選択することができます。  
4. **承認設定**：  

> **入力**：プロセスから変数を承認に入力します。
>   
> **段階**：ここの段階タブは、設計者が検証テンプレートがどの段階に進んだかを知るためのものです。 以下の条件は、2つ以上の段階がある場合のみ設定できます。 
>   
> **条件**：次の段階に進むかどうかを決定する条件を設定します。 3段階ある場合、2つ目の段階の条件が満たされない場合、2つ目の段階も3つ目の段階も実行されません。 

##### 「アウトプット」タブ

「開始」コンポーネントの入力と同様、ユーザーによって更新されたフィールドの内容をプロセス変数としてエクスポートし、後続のコンポーネントに使用できるようにする。

##### 「アクション1、アクション2」タブ

[クイック操作]とも呼ばれ、設計完了後、**マイタスク＞タスクリスト**で使用できます。ユーザーはフォームの内容を見ることなく処理できます。使用する際は、設計に合わせてフィールドの値を変更し、処理します。この機能により、固定文言での回答や処理を行うことができます。

#### コンポーネント - 列の設定

データベースに変数または固定文字列を入力します。データベースを変更する必要があり、手動処理する必要がない場合は、このこのコンポーネントを使用します。

#### コンポーネント - フィールド/変数フィルタリング

申し訳ございませんが、内容の理解が困難な記載となっております。

#### コンポーネント - フロー呼び込み

同じアプリケーションの下で別のプロセスを呼び出し、プロセスが終了プロセスに到達した場合のみ、次に進みます。

1. **異常通知表示**：プロセスが該当のコンポーネントまで実行され、エラーが発生した場合、そのエラーを無視して次に続行させるかどうかの確認です。
2. **フロー**：起票するメインプロセスを選択します。
3. **フローのインプット**：メインプロセスを選択した後、該当のプロセスのフォームフィールドと「開始」コンポーネントの入力がこのタブに表示されます。**もし入力された値が存在しない場合、システムは空文字列とみなします。**
4. **フローのアウトプット**：プロセスを選択すると、該当のプロセスの「終了」コンポーネントの出力がこのタブに表示されます。 後続のコンポーネントで使用するために、必要な出力を選択し、現在のプロセスのプロセス変数に入れます。

#### コンポーネント - サブフロー

現在のメインプロセスのサブプロセスを呼び出し、プロセスが「終了」プロセスに到達した場合のみ、次に進みます。その他の動きは【アプリケーション管理＞プロセス呼び出し】とほぼ同じです。

1. **サブフロー**：実行するサブプロセスを選択する。
2. **サブプロセスのインプット**：サブプロセスを選択すると、該当のプロセスのフォームフィールドと「開始」コンポーネントの入力がこのタブに表示されます。**もし入力された値が存在しない場合、システムは空文字列とみなします。**
3. **サブプロセスのアウトプット**：サブプロセスを選択すると、該当のプロセスの「終了」コンポーネントの出力がこのタブに表示されます。 後続のコンポーネントで使用するために、必要なアウトプットを選択し、現在のプロセスのプロセス変数に入れます。

#### コンポーネント - コード

データセンター/コレクターが実行する Pythonコードを書き込みます。以下は各タブの説明です。

##### 「設定」タブ

1. **表示名**：コンポーネントに名前を付けて、ユーザーがプロセスの現在位置を特定できるようします。
2. **異常通知表示**：プロセスが該当のコンポーネントまで実行され、エラーが発生した場合、そのエラーを無視して次に続行させるかどうかの確認です。
3. **分散処理**：このオプションを有効にすると、サーバーはコードを「分散処理」グループに割り当て、それを実行するコレクターをランダムに割り当てます。詳細は【データ収集＞コレクタ管理】を参照してください。
4. **ログ記録**：前述の**LOG**と同じです。違いはこの機能が現在のコンポーネントにのみ影響することです。

##### 「フィルタ」タブ 

**フィルタ**タブ：ここで「プロセス変数、フォームフィールド、システムパラメータ、アプリケーションパラメータ」パラメータを統合し、引き続きのPythonコードで使用できる。**システムパラメータ**は、【アプリケーション管理＞パラメータ管理】を参照してください。

> ※ フィルタによって作成された変数は、現在のコンポーネントのみが使用でき、プロセス変数ではありません。

##### 「インプット」タブ

Pythonのコードに「変数、文字列、フィールド値」を入力します。以下は例です。

pythonタブに入力されたコードが次のような内容の場合：

```
d = a + b + c
```

この時 a 、b、c、d の4つの変数を入れた場合、各変数の動きは下記のとおりです。

| 入力変数   | 変数名　  | 説明                       |
| ---------- | --------- | -------------------------- |
| 1          | a         | 固定文字列をaに指定            |
| フィールドB      | b         | 特定のフィールド値をbに指定          |
| 変数C      | c         | コンポーネント変数またはプロセス変数をcに指定  |
|            | d         | 空変数を作成             |

> 注意事項：  
> • 「d」を持ち込むのは再度「d」をプロセスに戻すためです。
> • 持ち込まれたパラメーターはすべて文字列のため、コード内で必要なデータ形式に変換する必要があります。

##### 「パッケージ」タブ 

python用の追加パッケージが必要な場合は、ここにパッケージ名を入力します。システムはリリースのプロセス中にそのパッケージがすでに存在するかどうかを判断し、存在しない場合はネットワークからダウンロードしてインストールします。

> ※ 外部ネットワークとの接続がない場合は、pypi repository serverを構築し、システム設定を変更することができます。

##### 「Python」タブ 

必要なpython処理を書きます。 returnに依存する代わりに、コードは次のように、結果をキャッチするために、外部にインプットタブ変数を書く必要があります。コードは以下のとおりです。

```
d = a + b + c
```

> ※ **インプットタブ**で設定された変数は、コード内で宣言することなく呼び出すことができます。

##### 「アウトプット」タブ 

pythonの実行結果(d)を取得し、プロセス変数に書き戻します。

| データ入力   | 変数名    | 説明                       |
| ---------- | ----------- | -------------------------- |
| d          | calculation | プロセス変数calculationを追加    |

> ※ ここでアウトプットできるのは、アウトプットタブを経由した変数のみです！

#### コンポーネント - 外部プロセス

リリースしたプロセスを呼び出し、プロセスが「終了」プロセスに到達した場合のみ、次に進みます。

1. **外部プロセス**：実行する外部プロセスを選択します。
2. **フローのインプット**：プロセスを選択すると、該当のプロセスのフォームフィールドと「開始」コンポーネントの入力がこのタブに表示されます。**もし入力された値が存在しない場合、システムは空文字列とみなします。**
3. **フローのアウトプット**：プロセスを選択すると、該当のプロセスの「終了」コンポーネントの出力がこのタブに表示されます。 後続のコンポーネントで使用するために、必要なアウトプットを選択し、現在のプロセスのプロセス変数に入れます。

#### コンポーネント - 条件判断

このコンポーネントは分岐経路を設計できます。以下は注意事項です。

> 注意事項：  
> (1) ルールは他のコンポーネントに結合されると表示されます。 
> (2) ルールを表示する"FITEM-?"は各コンポーネント画面の左上に表示されます。 
> (3) ルールが2つ成立している場合、下のルートに行きます。
> (4) 削除の線を削除する場合は、ルールを再定義する必要があります。

#### コンポーネント - 承認判定

このコンポーネントは、最終的な承認結果に基づいて、「同意、拒否」のルートを決定します。以下は注意事項です。

> 注意事項：  
> (1) ルールは他のコンポーネントに結合されると表示されます。 
> (2) ルールを表示する"FITEM-?"は各コンポーネント画面の左上に表示されます。 
> (3) このコンポーネントは、最終的な承認結果が同意か拒否かを判断するため、3本目の線を引いても適用されません。

#### コンポーネント - 分岐処理開始

「承認判定」コンポーネントとは異なり、分岐処理開始コンポーネントは各分岐を同時に動作させます。

> ※ **分岐処理開始後に生成されたプロセス変数は、他の分岐で利用することはできません。** 

#### コンポーネント - 分岐処理終了

並行して出ていく分岐をこのコンポーネントに集めて、そのうちの一つをメインの線に選ぶことができる。メインの線を選ばない場合、最後に完了した分岐がメインの線になる。 この同時に全ての分岐のプロセス変数は納められて、同じ名前の変数が存在する場合あればメインの線はメインとなる。

> ※ **分岐処理終了を設計した場合、すべての分岐が完了するまで待つ必要があります。完了後次のプロセスに進みます。**

#### コンポーネント - 並列処理開始

プロセスが互いに影響を与えることなく、同じルートで同時に複数の処理を行えるようにします。

> ※ **並列処理開始に生成されたプロセス変数は、他の分岐で利用することはできません。**

1. **並列処理数**：１つのフィールドや変数に固定の値を与えて並列処理数を決定します。 
• **配列**：配列の「変数、フィールド」の形式を選択するか、または値を直接入力し（例：A,B,C,D）、配列の長さに応じて並列回数を計算します（例：4回）。
• **值**：数字形式の「変数、フィールド」を直接入力するか、または値を直接入力することで並列回数（例：3回）を決定します。 

2 **配列入力**：新しいプロセス変数を作成し、異なる分岐に異なる値を割り当てます。 
• **データ入力**：形式が配列の「変数、フィールド」を選択するか、または値を直接入力します。例：A,B,C,D、この場合、1個目の分岐は「A」を取ります。 
• **引数名**：入力データのプロセス変数名として文字を入力します。 

#### コンポーネント - 並列処理終了

並列処理で分岐した処理を戻し、最後に完成した分岐がメインの線になります。**マージ**する必要がある変数がある場合は、出力タブで設定する必要があります。そうではない場合、メインの線に従います。

> ※ **すべての分岐が完了後、次のプロセスに進みます。**

1. **json形式を出力します**：出力タブのデータを文字列 json 形式に変更します。
2. **区切り","文字**：出力タブの変数値またはフィールド値の","(セミカンマ)を他の文字に置き換えます。
3. **アウトプット**タブ：すべての分岐の共通フィールドまたは変数を選択し、別の変数としてマージして出力します。

```
出力例は以下のとおりです：\

ルート一： "A"\
ルート二："B,D"\
ルート三："X，Y"

変数をマージして"A,B,D,X，Y"\に出力する
設定タブにjsonに置き換えを選択する場合、出力は"\['A', 'B,D', 'X，Y']"\となる
設定タブに","を"ooo"に置き換えを選択する場合、出力は"A,BoooD,X，Y"となる
```

#### コンポーネント - 一時停止

指定したミリ秒だけプロセスの処理を一時停止します。設定方法は以下のとおりです。
• **インプット**：数値変数を入力する。 
• **デフォルトの值**：入力が空の場合、デフォルト値を取ります。

#### コンポーネント - ダイレクトの職務/權限

該当のコンポーネントは「部門、組織図、職務管理」とリンクし、**特定のユーザー**の**デフォルトの部門**から、指定した**職務**の担当者を検索し、その担当者に関する情報を返すことができます。

##### 「入力」タブ

設定は下記のとおりです。  
1. **ジョブコード**：検索にジョブコード(position_no)または権限名(responsibilitie_name)のどちらにするかを選択し、対応する値を入力します。
2. **ユーザ番号**：ユーザ番号を入力します。通常は申請者のユーザ番号を入力します。
3. **検索方法**：組織図による検索か部門構成による検索かを選択します。詳細は【ユーザー管理＞部門管理】や【ユーザー管理＞組織図】及び【承認のメカニズム】を参照してください。 
4. **組織図名**：検索に組織図を選択した場合、組織図の名称を入力してください。詳細は【ユーザー管理＞組織図】を参照してください。
5. **組織図の立ち位置表示**：検索に組織図を選択した場合、最初に検索する場合は組織図の立ち位置を記入する必要はありません。もし2回目の検索に最初の検索結果を利用したい場合は、1回目の検索後に出力される組織図の立ち位置に入力することができます。これにより、ユーザーが同じ組織図に2つの部署を持つことを防ぐことができます。

##### 「アウトプット」タブ

設定は以下のとおりです。   
1. **部門番号(ID)**：**職務/権限**が一致するユーザーが見つかった場合、該当のユーザーのデフォルトの部門番号を返します。 
2. **ユーザ番号**：**職務/権限**が一致するユーザーが見つかった場合、該当のユーザーのユーザ番号を返します。 
3. **組織図の立ち位置表示**：**職務/権限**が一致するユーザーが見つかった場合、該当の職務が所属する部門番号を返します。「この立ち位置を次の検索の出発点として使用する」場合に使用できます。

#### コンポーネント - 部門の職務/権限

このコンポーネントは、「部門、組織図、職務管理」と連携し、**特定の部門**から**次に**指定された**職務**の担当者を検索し、該当の担当者に関する情報を返します。

##### 「入力」タブ

設定は以下のとおりです。   
1. **部門コード**：検索する出発点として、部門コード(dept_no)または部門番号(dept_code)を入力します。 
2. **ジョブコード**：検索にジョブコード(position_no)または権限名(responsibilitie_name)のどちらにするかを選択し、対応する値を入力します。  
3. **検索方法**：組織図による検索か部門構成による検索かを選択します。詳細は【ユーザー管理＞部門管理】や【ユーザー管理＞組織図】及び【承認のメカニズム】を参照してください。  
4. **組織図名**：検索に組織図を選択した場合、組織図の名称を入力してください。詳細は【ユーザー管理＞組織図】を参照してください。

##### 「アウトプット」タブ

設定は以下のとおりです。   
1. **部門番号(ID)**：**職務/権限**が一致するユーザーが見つかった場合、該当のユーザーのデフォルトの部門番号を返します。
2. **ユーザ番号**：ユーザ番号を入力します。通常は申請者のユーザ番号を入力します。 
3. **組織図の立ち位置表示**：**職務/権限**が一致するユーザーが見つかった場合、該当の職務が所属する部門番号を返します。「この立ち位置を次の検索の出発点として使用する」場合に使用できます。

## サブプロセス設計

サブプロセスタブに入ると、サブプロセスのリストが表示されます。サブプロセスの主な特徴は以下のとおりです。
• 簡素化とメインプロセスの可読性を向上する  
• メインプロセスからのみ呼び出せる  
• サブプロセスのコンポーネントタイプはメインプロセスと同じです。詳細は前述の紹介内容を参照してください。 

> ※ サブプロセスの編集が終了したら、メイン画面の右上にある「確認」ボタンをクリックして変更内容を確認し、「保存」ボタンをクリックして最終版を保存します。

## アプリのリリース

```
参照箇所：［メインメニュー］＞［アプリケーション管理］＞［アプリのリリース］
```

リリースしたアプリの管理画面です。

### リリースしたアプリリスト

アプリケーションがリリースされると、各アプリはここにリストされます。以下の機能紹介も含まれています。  
1. **撤去**：リリースしたアプリを撤去します。 
2. **フィルタ**：キーワードで検索し、該当するアプリを表示します。 
3. **更新**：フィルタを初期値に戻します。
4. **エクスポート**：チェックを入れたアプリケーションをエクスポートし、アプリケーション設計にインポートすることができます。 
5. **変更：**このバージョンのアプリケーションの備考を変更します。 
6. **バージョン**：クリックすると、リリースされたすべてのアプリケーション（すべてのバージョンを含む）が表示されます。

### リリースしたアプリリスト

```
参照箇所：［メインメニュー］＞［アプリケーション管理］＞［アプリのリリース］＞［任意のアプリケーション］
```

アプリケーションリストをクリックすると、該当のアプリケーションのプロセスリストに移動します。プロセスリストの機能を以下に紹介します。
1. **有効**：プロセスにチェックを入れると、バッチで有効にします。
2. **無効**：プロセスにチェックを入れると、バッチで無効します。プロセスが無効化されると、進行中のタスクが中断され、該当のプロセスを起票や推進はできなくなります。 
3. **フィルタ**：キーワードで検索し、該当するプロセスを表示する。  
4. **更新**：フィルタを初期値に戻します。  

リストの状態、LOG、APIフィールドと最後の設定はすべてクリック可能なボタンです。  
1. **状態**：クリックすると有効/無効が切り替わり、効果は上記リストの有効/無効と同じです。
2. **LOG**：**実行プロセス記録**の機能を有効または無効にします。 変更後に再度リリース必要はなく、動的に変更できます。
3. **API**：**API**機能を有効または無効にします。 変更後に再度リリース必要はなく、動的に変更できます。
4. **設定**：フィールド設定とAPIに分けます。以下は説明です。  

> **フィールド設定**：リストに表示されるフィールドを変更します。  
> **新しいデータを作成API**：API、Method、postbodyの例と返送例が含まれています。
> **問い合わせAPI**：API、Method、postbodyの例と返送例が含まれています。  
> **推進API**：API、Method、postbodyの例と返送例が含まれています。


注意事項：
> ※ ここの**クエリAPI**は、該当のプロセスにどのフォーム番号があるかをクエリするのではなく、手動処理状態に停止している特定のフォーム番号のデータ番号をクエリするものです。プロセス設計は並行、ダイナミック並行などを設計することがあるため、同じフォームで同時に複数のデータが生成され、手動処理状態に停止され、推進を待っている可能性があるので、このときはこれらのデータ番号を検索し、推進する必要があります。

### プロセス資料

プロセスをクリックすると、フォームリストに入れます。起票するたびに、このリストにデータが生成されます。 フォームが実行された場合は灰色で表示され、実行が完了されていない場合やエラーが発生した場合は、データの最後に編集オプションが表示され、クリックすることができます。 **編集**ボタンをクリックすると、フォームの現在の入力と出力が表示され、手動でパラメータを修正し、確認をクリックしてプロセスを進めることができます。

> ※ ここで**エラー**となっているフォームを**再実行**させることができます。

## スケジュール設定

```
参照箇所：［メインメニュー］＞［アプリケーション管理］＞［スケジュール設定］
```

リリースしたプロセスに対して、スケジュールを作成し、定期的に起票することができます。

### スケジュールの新規作成

スケジュール一覧ページに入り、追加ボタンをクリックすると以下のように新規スケジュールが作成されます。

1. すでにリリースしたプロセスを選択した場合に、該当のプロセスにフォームが設計されている場合、プロセス名の後に**表示內容**ボタンが追加されます。
2. **表示內容**ボタンをクリックして、このプロセスに設計されたフォームを表示し、フォームを記入した後、**スケジュール**ボタンをクリックします。
3. スケジュールサイクルを設定し、**確認**ボタンを押します。その後スケジュールにより起票します。

### スケジュールの編集

作成されたスケジュールはスケジュールリストに表示されます。ステータフィールドの下に「有効、無効」ボタンがあり、クイック操作を実行できます。リストの最後にある**編集**ボタンをクリックすると、スケジュールを変更できます。

## パラメータ設定

プロセス使用するパラメーターを管理します。プロセスは特定のコンポーネントのフィルタタブで、パラメーターを取得して利用できます。パラメーターはバッチでインポートおよびエクスポートすることもできます。関連設定は以下のとおりです。
1. **名称**：パラメータ名  
2. **說明**：パラメーターの說明  
3. **パラメータ值**：パラメーターの值  
4. **マスク**：Yesを選択した場合、パラメータ値はリストに⋯と表示されます。

> ※ サーバーIPなど、多くのプロセスが同じパラメータ値を使用する場合に、この機能を使用することを推奨します。

## SLA管理

```
参照箇所：［メインメニュー］＞［アプリケーション管理］＞［SLA管理］
```
SLA管理は、指定されたプロセスを監視するために使用されます。 起票や処理するときに、フィールドの内容変更によりSLA管理がトリガーされると、トリガー条件に従ってフォームのレベルが変更れます。イベントが作成されると同時に、指定されたユーザーに通知メールを送信します。

### 数値測定

すでにリリースしたプロセスを選択し、フィールドを選択します。 フィールドがリマインダールールを満たしている場合、リマインダー通知が送信され、フォームのレベルは黄色に変更されます。ルールに違反した場合、違反通知が送信され、フォームのレベルは赤色に変更されます。

特定のフィールドの値が条件を満たした場合、**SLAレベル**を変更します。説明は以下のとおりです。  
1. **通知タイトル**：通知メールの件名。
2. **通知內容**：通知内容です。 
3. **通知する役割**：複数の役割を選択でき、該当の役割を使用しているユーザーに通知されます。 
4. **通知するユーザ**：複数のユーザーを選択でき、該当のユーザーに通知されます。 
5. **登録者に通知**：フォームの登録者に通知します。  
6. **アプリ名**：監視するアプリケーションを選択します。
7. **プロセス名**：監視するプロセスを選択します。
8. **リマインダルール**：監視フィールドが設定値に一致すると、通知メールを送信し、SLAレベルを黄色に変更します。
9. **アラートルール**：監視フィールドが設定値に一致すると、通知メールを送信し、SLAレベルを赤色に変更します。

> ※ **高度なトリガ条件**ボタンをクリックすると、トリガー条件を追加できます。このトリガー条件は、「リマインダルールとアラートルール」に同時に一致しないと、SLAレベルは変更されません。

### 時間測定

時間測定は数値測定とは異なり、トリガー条件と終了条件があります。、トリガー条件が満たされるとカウントを開始し、終了条件が満たされるとカウントを終了します。 カウントがリマインダールールを超えた場合、レベルを変更し、イベントを作成し、通知メールを送信します、。カウントがリマインダールールに違反した場合の動きは上記と同様です。  
1. **トリガー条件が設計されていない場合は、起票するとトリガーされることを意味します。 **
2. **終了条件が設計されていない場合、フォームがクローズするときに終了します。 **

## 承認管理

```
参照箇所：［メインメニュー］＞［アプリケーション管理］＞［承認管理］
```

### 承認リスト

作成済みの承認テンプレートを表示します。

1. **新規**：承認テンプレートを新規作成します。
2. **削除**：承認テンプレートを削除します。

### 承認の追加

[+新規]をクリックすると、作成画面のポップアップが表示します。表示画面のいくつのタブを以下に説明します。

#### 「設定」タブ

設定如下：  
1. **件名**：承認テンプレートの名前。  
2. **説明**：該当の承認テンプレートの説明です。プロセス設計者の参考となります。
3. **承認者に通知する**：承認が承認者に割り当てられたときに、ユーザーが通知を受け取るかどうかの設定です。
4. **送信者に通知する**：承認が新しい承認者に送信されたときに、送信者が通知を受け取るかどうかの設定です。
5. **通知方法**：システム通知とメール通知に分けられます。 電子メールは **アプリケーション設計>パラメータ管理** のメールサーバー設定に従って送信されます。
6. **通知フォーマット**：通知内容のフォーマットはプレーンテキストまたは html を選択できます。

#### 「インプット」タブ

設定は以下のとおりです：  
1. **内蔵パラメータ**：システム内蔵のパラメータです。該当のパラメータは現在の承認設定とフェーズに応じて変更されます。
2. **変数入力**：プロセスから変数を入力し、後続の承認にも使用可能です。

#### 「フェーズ」タブ

新規をクリックすると新しいフェーズを追加できます。以下に各設定を説明します。
1. **件名**：フェーズの名前で、主に承認記録で使用される。 
2. **説明**：フェーズの説明です。  
3. **クイック操作を許可**：ユーザーがマイタスクで該当の承認をクイック操作で実行できるかどうかの設定です。  
4. **追加承認を許可**：該当の承認に追加承認を許可するかどうかの設定です。追加後、ユーザーの重み付けを追加対象に渡します。
5. **複数承認**：複数承認を有効にすると、承認結果判断に関する項目が表示され、下部の承認者のフィールドにも複数承認者を追加するボタンが表示されます。
(1) **全員が同意する**：承認者全員が同意してから次のフェーズに進みます。一人でも同意しない人がいる場合、承認は終了し、承認結果は不同意として送出されます。 
(2) **重み付けの境界**：重み付けの設定に従って、このフェーズの結果を決定します。
	
> * 承認の重み付けが境界に達する場合は次のように見なされます：まず同意と不同意に分け、達成条件は選ばれた結果となります。 下の数値フィールドにスコア値を入力し、デフォルトは100です。 
>   
> * カスタム重み付け：このボックスをチェックして、下の承認者の重み付けの数値を入力します。チェックを外すと、承認者の数により均等に分けます (均等化の場合は 100 点から)。
>   
> * 承認の重み付けの閾値までで今のフェーズを終了：この項目にチェックを入れると、一部の承認者の承認の重み付けスコアが承認条件を満たす場合、他の承認者の承認の重み付けは閉じられ、設定された結果に従って次のフェーズに進んだり、クローズしたりします。

(3) **重み付けの比較**：すべての承認者が承認を実行した後、それぞれの重み付けスコアにより結果を計算し、得点が高い方に進みます。

> * 承認の重み付けが同等の場合は：両者の重み付けが同じの場合、どちらの結果を出力するかを選択する。
>   
> * カスタム重み付け：このボックスにチェックを入れて、下の承認者の重み付けの数値を入力します。チェックを外すと、承認者の数により均等に分けます (均等化の場合は 100 点から)。


6. 承認者：  
(1) **重み付け**：上部の複数承認が有効でない場合、このオプションは変更できません。有効にした後、設定に従って調整できるかを決めます。 
(2) **件名**：承認記録に表示される承認者の名前です。 
(3) **種類**：承認者は以下４つの検索方法を利用できます。

> * 指定者：承認するユーザーを直接指定します。 
>   
> * 組織図検索： 組織図から検索します。
>   
> * 部門検索：部門構成から検索します。
>   
> * 外部検索（Python）：システム内の他のプロセスまたは他のシステムを呼び出して検索を実行します。 

(4) 承認者：  

> * 組織図名：このメニューは、種類で「組織図検索」を選択したときに有効になり、組織図名を入力するために使用します。
>   
> * 検索方法：このメニューは、種類で「組織図検索、部門検索」を選択したときに有効になり、「ダイレクト職務／ダイレクト権限／部門の職務／部門の権限」のいずれかを選択して検索することができます。 
>   
> * 部門を選択／職務名／権限名：このメニューは種類によって変わります。 タイプが指定者の場合、メニューは部門から選択となり、種類が組織図検索または部門検索の場合、検索方法によりメニューは職務名または権限名と表示されます。
>   
> * ユーザを選択する／ユーザ番号／部門コード：
このメニューはタイプによって変わります。 種類が指定者の場合、メニューはユーザーとなり、種類が組織図検索または部門検索の場合、検索方法によりメニューはユーザ番号または部門コードと表示されます。

#### 「通知するユーザ」タブ

このタブは、メール通知を送信する際の件名と内容の設定となります。
1. **主題**：通知の件名です。内蔵のパラメータと変数を 使用できます。使用方法は、件名の横にあるクエスチョンマークにマウスを合わせ、2秒間待つと表示されます。
2. **内容**：通知の内容です。使用方法は上記の主題と同じです。

#### 「Python」タブ

承認担当者を検索するときのみ使用します。承認担当者の検索方法で外部検索（Python）を選択した場合、このコードを呼び出して検索を実行します。
1. **新規**：コードで使用されるpythonパッケージを追加するために使用され、該当のテンプレートを保存するときにパッケージをチェックします。
2. **コード**：呼び出されるコードを手動入力します。レスポンスと例は上部に記載されています。 ここでは、内蔵のパラメータと変数を使用でき、方法は通知と似ていますが、大括弧{}で変数を囲む必要はありません。
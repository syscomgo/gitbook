# 系統設定

```
位置：［主選單］＞系統設定
```

> 備註\
> ● 必填：該欄位值不得空白。\
> ● 唯一值：該欄位值不得與其他資料重複。

## 系統設定

```
位置：［主選單］＞系統設定＞系統設定
```

此處為OMFLOW進行調整和設定整個系統的規則以滿足客戶的特定需求，以下將為每一區塊進行介紹：

> ※ 只有**管理者**有權限修改系統設定。

### 一般設定 - 1.2.1 New

1. **最大執行緒數量**：處理表單流程的執行緒數量，暫時不開放修改。
2. **LOG等級**：系統預設為ERROR避免過多LOG產生。
3. **PIP Server 位置**：指定系統安裝套件時搜尋的來源。
4. **登入頁面**：系統預設登入後的顯示頁面。
5. **開啟註冊頁面**：是否開放註冊一般使用者帳號頁面。
6. **開啟自動登出**：啟用後，若使用者處於閒置狀態下將自動登出。
7. **自動登出滯留時長**：配合上一項目，設定自動登出的閒置時間長度(需大於5分鐘)。
8. **登入失敗鎖定**：若啟用後，登入連續失敗3次後系統將鎖定該帳號5分鐘，相關細部設定可至 **/omflow/settings.py** 更改 **LOGIN\_FAIL\_FREQUENCY**、**LOGIN\_LOCK\_MIN**，修改後重啟服務即生效。
9. **登入次數上限**：配合登入失敗鎖定功能，設定觸發帳號鎖定的失敗次數。
10. **登入鎖定時長/分鐘**：配合登入失敗鎖定功能，設定鎖定的時間長度。
11. **管理者模式**：啟用後，僅有管理者帳號可登入系統。
12. **管理者模式公告**：啟用「管理者模式」後，將顯示於登入頁面。
13. **密碼複雜度設定**：設定註冊時的密碼規則，此設定不影響管理者建立使用者及LDAP使用者。
14. **特殊字元自訂**：填入任意數量字元符號，密碼需包含任一符號。
15. **密碼長度自訂**：設定密碼的最低長度。
16. **註冊帳號有效期/天**：設定帳號註冊時預設的有效天數，過期後停用此帳號，此設定不影響管理者建立使用者及LDAP使用者。
17. **密碼有效期/天**：設定帳號註冊時密碼的有效天數，過期後登入時須變更密碼，此設定不影響管理者建立使用者及LDAP使用者。

### LDAP 設定

勾選啟用後，填寫LDAP連線相關設定並建立相關部門及使用者。

#### 連線資訊

| 連線資訊欄位              | 欄位說明                                                                             |
| ------------------- | -------------------------------------------------------------------------------- |
| server              | Active Directory 伺服器 IP位址 / Active Directory網域                                   |
| server port         | Active Directory 伺服器連接埠號                                                         |
| base dn             | 基本範圍，範例：`DC=tsom,DC=com`                                                         |
| search dn           | 認證範圍，範例：`OU=XXX,OU=XXX`                                                          |
| bind user           | 連接AD使用者帳號，範例1：`AD_connect_user`、範例2：`CN=AD_connect_user,CN=Users,DC=tsom,DC=com` |
| bind password       | 連接AD的使用者密碼                                                                       |
| user search filter  | 使用者搜尋條件，範例：`(&#x26;(objectCategory=person)(objectClass=user))`                   |
| group search filter | 部門搜尋條件                                                                           |

> ※ 設定完畢後先按區塊右上方**連線檢查**按鈕，測試設定值及連線是否正確。

#### 使用者欄位對應

同步建立使用者時，根據LDAP系統內使用者屬性填入OMFLOW使用者之對應屬性。

| 使用者欄位           | LDAP欄位               |
| --------------- | -------------------- |
| 使用者帳號(username) | 必填，範例：sAMAccountName |
| 名稱(nick\_name)  | 必填，範例：cn             |
| 信箱(email)       | 必填，範例：mail           |
| 員工編號            | 非必填，依個人設定            |
| 公司              | 非必填，依個人設定            |
| 電話              | 非必填，依個人設定            |
| 分機              | 非必填，依個人設定            |
| 手機              | 非必填，依個人設定            |

> ※ 設定完畢後先按區塊右上方**儲存並同步**按鈕，系統將同步建立使用者。

#### 部門欄位對應

同步建立部門時，根據LDAP系統內使用者屬性填入OMFLOW使用者之對應屬性。

| 部門欄位 | LDAP欄位 |
| ---- | ------ |
| 部門名稱 | 必填     |
| 部門代號 | 必填     |

> ※ 設定完畢後先按區塊右上方**儲存並同步**按鈕，系統將同步建立使用者。

#### 自動同步

排程週期為每周及每月，每周可分為周一至周五，每月則是1至31日，排程時間可以自由選擇，範例：周六 02:00:00。

#### 同步範圍

點擊區塊右上方**儲存並同步**按鈕時，系統將根據此設定進行同步。

1. 部門與使用者：根據LDAP系統同步範圍內之部門及使用者。
2. 僅使用者：根據LDAP系統同步範圍內之使用者。

> ※ 如先前同步過「部門及使用者」再同步「僅使用者」，將會刪除同步過的AD部門。

#### **同步時使用授權數量啟用使用者**

勾選後，同步建立使用者時將自動設為「啟用」狀態。若系統無額外的授權數量，則維持為「停用」狀態。

### 個資使用同意/軟體使用同意

個資使用同意及軟體使用同意，可以供您自訂自己的條款，這些條款在新使用者註冊時必須同意才能註冊帳號。

### 授權資料

欄位內顯示你所擁有的LICENSE內容，購買LICENSE後在這裡上傳並立即生效。

### Booster授權資料

欄位內顯示你所擁有的Booster的LICENSE內容，Booster安裝後在這裡上傳LICENSE並立即生效。

## 附加檔案維護

```
位置：［主選單］＞系統設定＞附加檔案維護
```

在這裡檢視所有已上傳至系統內的檔案，可使用篩選找出特定時間以前的檔案並刪除，釋放主機的使用空間。

## 主選單管理

```
位置：［主選單］＞系統設定＞主選單管理
```

在這裡編排左邊選單的順序及位置，並可追加「資料夾、路徑」，其中**資料夾**可放入「資料夾、應用、路徑」，**路徑**則可設定OMFLOW內部連結或外部網址。

> 注意要點：
>
> 1. 資料夾內還有應用時不可刪除
> 2. 所有修改在儲存後對所有使用者立即生效

## 登出登入紀錄

```
位置：［主選單］＞系統設定＞登出登入紀錄
```

此處紀錄OMFLOW「網頁、API」之所有登入登出以及成功失敗之紀錄。

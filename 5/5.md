---
description: >-
  無料版とエンタープライズ版では、OMFLOW
  Collector（コレクター）を異なるサーバーにインストールできます。データセンターは、この機能を介してコマンドを実行し、各コレクターにデータを収集して、分散コンピューティング、バッチ実行などの機能を実現できます。
---

# データ収集

## コレクター管理

コレクター分類リスト。各コレクターは分類の1つに設定できます。デフォルトの2つの分類は次のとおりです。

![](../.gitbook/assets/tu-pian-%20%281%29.png)

1. 未分類：初めて登録されたすべての「コレクター」は、デフォルトでここにソートされます。
2. 分散コンピューティング：「分散操作」がチェックされているPythonポイントまでプロセスが実行されると、このカテゴリのコレクターの1つがPythonポイントを実行するために選択されます。詳細については、「アプリケーション管理」&gt;「アプリケーション設計」&gt;「Pythonポイント」を参照してください。

各カテゴリを設定して、カテゴリ名を変更し、説明を追加できます

操作リスト：

![](../.gitbook/assets/tu-pian-%20%2846%29.png)

1. 新規：新しいカテゴリ
2. 削除：カテゴリを削除
3. フィルタ：キーワードを検索し、各ページに表示されるアイテムの数を調整します
4. 元に戻す：検索キーワードをキャンセルする

コレクターリスト：カテゴリーをクリックすると、コレクターリストに入ることができます

操作リスト：

![](../.gitbook/assets/tu-pian-%20%2829%29.png)

1. 移動：コレクションを指定されたカテゴリに移動します
2. 削除：コレクターを削除します
3. フィルタ：キーワードを検索し、ページあたりのアイテム数を表示します
4. 元に戻す：検索キーワードをキャンセルする

削除されたコレクターがまだ実行中でホストに報告している場合は、リストに再び表示されます

コレクター情報

次の図に示すように、コレクターリスト内のコレクターのいずれかをクリックして、コレクターの関連情報を表示し、コレクターパラメーターを設定し、コレクターがディスパッチされたプロセスとデータを表示します。

![](../.gitbook/assets/tu-pian-%20%2854%29.png)

パラメータ設定

パラメータ設定の動作モードはアプリケーション設計と同じです。すべての変更アクションはリアルタイムでコレクタに同期され、ディスパッチされたプロセスを使用できるようになります。

![](../.gitbook/assets/tu-pian-%20%2853%29.png)

## コレクタープロセス

すべてのコレクターのプロセスリストをコレクターに送信して、プロセスを定期的に実行し、プロセスの最後に出力データをデータセンターに送り返すことができます。

![](../.gitbook/assets/tu-pian-%20%2855%29%20%282%29.png)

1. 新規：\[アプリケーション管理\]&gt; \[アプリケーション設計\]と同様に、任意のプロセスを作成し、それを実行するコレクターを割り当てることができます。
2. 削除：チェックしたプロセスを削除します。
3. コピー：選択したプロセスをコピーして、新しいプロセスとして作成します。
4. 配信：このプロセスを実行するために選択したコレクターを指定します。
5. 実行：プロセス実行変数、スケジュール、および実行用のコレクターを設定します。
6. データ：プロセスで収集されたデータを表示し、折れ線グラフで表示します。

{% hint style="info" %}
スケジュールされた実行を設定する前に、プロセスをコレクターにディスパッチする必要があります。同じスケジュールを複数のコレクターに同時に設定できます。
{% endhint %}

{% hint style="info" %}
データソースは、ディスパッチプロセスの「エンドポイント」の出力変数であり、詳細なアプリケーション設計&gt;エンドポイントです。
{% endhint %}

![](../.gitbook/assets/pic011.jpg)

## コレクターキット

コレクターが外部ネットワークのある環境にある場合、ユーザーが手動でインストールしなくても、プロセスに必要なパッケージを単独でインストールできます。 コレクター自体に外部ネットワークがない場合は、次の2つの提案があります。



1. 環境内にプライベートPIPサーバーがある場合は、次の図に示すように、システム内の場所を設定できます。

![](../.gitbook/assets/pipserver.png)

    2. コレクターが実行する必要のあるコレクタープロセスに応じて手動でダウンロードすることもできます。組み込みのコレクタープロセスに必要なパッケージのリストは次のとおりです。

```text
aiosnmp
asyncio
cx_Oracle
mysql
paramiko
psutil
psycopg2
pyodbc
requests
```

## コレクターAPI

コレクター固有のAPIを作成して、外部がプロセスをコレクターに直接呼び出し、プロセスのエンドポイントの出力をデータセンターに送り返すことができるようにします。各呼び出しは1回だけ実行されます。

{% hint style="info" %}
情報セキュリティ上の考慮事項により、コレクターはデフォルトで自身とデータセンターからのAPI呼び出しのみを受け入れます。 必要に応じて外部から 呼び出すには、コレクターサーバーにログインし、Apacheの下のhttpd.confに信頼できるIPを追加する必要があります。
{% endhint %}

{% hint style="info" %}
データソースによると、ディスパッチプロセスの「エンドポイント」の出力変数、詳細なアプリケーション設計&gt;エンドポイント。
{% endhint %}

![&#x9810;&#x8A2D;&#x7121;&#x4EFB;&#x4F55;&#x6D41;&#x7A0B;&#xFF0C;&#x8ACB;&#x81EA;&#x884C;&#x5EFA;&#x7ACB;](../.gitbook/assets/pic014.jpg)

## 事故管理

すべてのイベントはここで管理されます。

![](../.gitbook/assets/pic015.jpg)

事故ルールのリスト：イベントが発生すると、システムはイベントルールが準拠しているかどうかを確認し、事故チケットを生成します。次の点に注意してください。

* 上から下への順序を確認してください
* イベントルールの1つが満たされると、それはチェックされなくなります

![](../.gitbook/assets/pic016.jpg)

新しい事故ルール：事故命令が生成されるときにフィールドの内容を設定し、「事故トリガー条件」に従って事故命令を生成するかどうかを決定します。

1. 時間コンプライアンス：このルールが指定された時間範囲内に指定されたコンプライアンス時間数に達すると、イベントが生成されます。たとえば、1日に3回満たされる場合、空白の場合、毎回事故チケットが生成されます。それはいつでも会います。
2. 列条件：指定されたすべての列の判定結果が真である場合、それは満たされていると見なされます。

![](../.gitbook/assets/pic017%20%281%29.jpg)


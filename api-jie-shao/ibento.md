---
description: >-
  異常な状況が発生した場合は常に、システムは最初に記録用のインシデントを生成し、イベントルールを通じてインシデントオーダーを発行するかどうかを決定する必要があります。 
  Collectorによる異常状態の収集と検出に加えて、Collectorによって監視されていないハードウェアとソフトウェアは、RestAPIを介して生成またはシャットダウンイベントを送信することもできます。送信方法を以下に説明します
---

# イベント

## イベント

異常な状況が発生した場合、このAPIを呼び出してイベントを生成できます。

* Method：POST
* URL：/rest/monitor/api/event/create/
* Post body：次のように

```
{
   "security"： "<セキュリティコード>"、
   "title"： "<イベントタイトル>"、
   "content"： "<イベントコンテンツ>"、
   "severity​​"： "<重大度レベル、1〜5を入力>"、
   "omflow_restapi"：1、
   "source2"： "<ソース>"
}
```

上記のPost bodyは、コンテンツをインシデントに変換するための基礎です。重大度レベルは、1（Info）、2（Normal）、3（Warning）、4（Major）、5（Critical）、たとえば、重大度レベルがWarningの場合、severity パラメーターは3で埋められます。 また、source2は、同じデバイスの同じイベントの連続したインデックス文字列です。これについては、次の章で詳しく説明します。

{% hint style="info" %}
すべてのAPIは、使用する前にセキュリティコード（security）を使用して取得する必要があります。取得方法については、セキュリティコードの取得を参照してください。
{% endhint %}

## イベントを閉じる

異常な状況が解消されたら、このAPIを呼び出してイベントを閉じることができ、システムは指定されたsource2文字列に一致するすべてのイベントを閉じます。



* Method：POST
* URL：/rest/monitor/api/event/close/
* Post body：次のように

```
{
  "security": "<セキュリティコード>",
  "omflow_restapi": 1,
  "source2": "<ソース>"
}
```

{% hint style="info" %}
すべてのAPIを使用する前に、セキュリティコード（security）を取得する必要があります。取得方法については、セキュリティコードの取得を参照してください。
{% endhint %}

## システムマニュアル

このWebサイトでイベントAPIの使用方法を説明しているほか、システムに関する説明もあります。 次の図に示すように、メインメニュー>データ収集>イベント管理に移動して、\[イベントAPI]タブで表示できます。

![](<../.gitbook/assets/image (49).png>)
